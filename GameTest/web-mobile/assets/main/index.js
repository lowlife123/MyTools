System.register("chunks:///_virtual/Constants.ts",["cc"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy,t=n.Color}],execute:function(){e._RF.push({},"52ff9ezIWNPi4twNrFaroTA","Constants",void 0);n("TILE_SIZE",30),n("BOARD_WIDTH",20),n("BOARD_HEIGHT",20),n("UPDATE_INTERVAL",.15),n("COLORS",{BACKGROUND:new t(30,30,35,255),GRID_LINE:new t(50,50,55,255),SNAKE_HEAD:new t(46,204,113,255),SNAKE_BODY:new t(39,174,96,255),FOOD:new t(231,76,60,255),TEXT_MAIN:new t(236,240,241,255),BUTTON_BG:new t(52,152,219,255),BUTTON_TEXT:new t(255,255,255,255),OVERLAY:new t(0,0,0,150)});e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(e){var i,t,o,a,n,s,r,h,c,d,l,f,v,p,u,m,g,C,O,y;return{setters:[function(e){i=e.inheritsLoose,t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,a=e._decorator,n=e.input,s=e.Input,r=e.Node,h=e.Graphics,c=e.director,d=e.Label,l=e.BlockInputEvents,f=e.Color,v=e.Button,p=e.KeyCode,u=e.Component},function(e){m=e.COLORS,g=e.BOARD_HEIGHT,C=e.TILE_SIZE,O=e.UPDATE_INTERVAL,y=e.BOARD_WIDTH}],execute:function(){var T;o._RF.push({},"f7f1cmXVYJFNLwulwRB7JWT","GameManager",void 0);var G=a.ccclass,E=(a.property,function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e}(E||{}));e("GameManager",G("GameManager")(T=function(e){function o(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(i=e.call.apply(e,[this].concat(o))||this).graphics=null,i.snake=[],i.food={x:0,y:0},i.direction=E.RIGHT,i.nextDirection=E.RIGHT,i.timer=0,i.score=0,i.isGameOver=!1,i.isPaused=!1,i.scoreLabel=null,i.gameOverNode=null,i}i(o,e);var a=o.prototype;return a.start=function(){this.setupScene(),this.initGame(),n.on(s.EventType.KEY_DOWN,this.onKeyDown,this)},a.onDestroy=function(){n.off(s.EventType.KEY_DOWN,this.onKeyDown,this)},a.setupScene=function(){this.createBackground(),this.initGraphics(),this.initUI()},a.createBackground=function(){var e=this.node.getChildByName("Background");e||(e=new r("Background"),this.node.addChild(e),e.setSiblingIndex(0));var i=e.getComponent(h);i||(i=e.addComponent(h)),i.clear(),i.fillColor=m.BACKGROUND,i.rect(-2e3,-2e3,4e3,4e3),i.fill()},a.initGraphics=function(){var e=this.node.getChildByName("GameGraphics");e||(e=new r("GameGraphics"),this.node.addChild(e)),this.graphics=e.getComponent(h),this.graphics||(this.graphics=e.addComponent(h)),this.graphics.lineWidth=1},a.initUI=function(){var e=this.node.getChildByName("HUD");e||(e=new r("HUD"),this.node.addChild(e),e.setPosition(0,g*C/2+50,0)),this.createButton(e,"Back",-200,0,(function(){c.loadScene("Login")}));var i=e.getChildByName("ScoreLabel");i||(i=new r("ScoreLabel"),e.addChild(i),i.setPosition(0,0,0)),this.scoreLabel=i.getComponent(d),this.scoreLabel||(this.scoreLabel=i.addComponent(d)),this.scoreLabel.fontSize=30,this.scoreLabel.color=m.TEXT_MAIN,this.scoreLabel.isBold=!0,this.createGameOverUI()},a.createGameOverUI=function(){var e=this,i=this.node.getChildByName("GameOverUI");i||(i=new r("GameOverUI"),this.node.addChild(i),i.active=!1),this.gameOverNode=i;var t=i.getChildByName("Overlay");if(!t){t=new r("Overlay"),i.addChild(t);var o=t.addComponent(h);o.fillColor=m.OVERLAY,o.rect(-2e3,-2e3,4e3,4e3),o.fill(),t.addComponent(l)}var a=i.getChildByName("Text");if(!a){a=new r("Text"),i.addChild(a),a.setPosition(0,50,0);var n=a.addComponent(d);n.string="GAME OVER",n.fontSize=50,n.color=new f(231,76,60,255),n.isBold=!0}this.createButton(i,"Try Again",0,-50,(function(){e.initGame()})),this.createButton(i,"Menu",0,-120,(function(){c.loadScene("Login")}))},a.createButton=function(e,i,t,o,a){var n="Btn_"+i,s=e.getChildByName(n);if(!s){s=new r(n),e.addChild(s),s.setPosition(t,o,0);var c=new r("G");s.addChild(c);var l=c.addComponent(h);l.fillColor=m.BUTTON_BG,l.roundRect(-60,-20,120,40,8),l.fill();var f=new r("L");s.addChild(f);var p=f.addComponent(d);p.string=i,p.fontSize=20,p.color=m.BUTTON_TEXT;var u=s.addComponent(v);u.transition=v.Transition.SCALE,u.zoomScale=.95,s.on(v.EventType.CLICK,a,this)}},a.initGame=function(){this.snake=[{x:0,y:0}],this.direction=E.RIGHT,this.nextDirection=E.RIGHT,this.score=0,this.isGameOver=!1,this.timer=0,this.gameOverNode&&(this.gameOverNode.active=!1),this.spawnFood(),this.updateScore(),this.draw()},a.spawnFood=function(){for(var e=!1,i=0,o=y*g;!e&&i<o;){i++;for(var a,n=Math.floor(Math.random()*y)-Math.floor(y/2),s=Math.floor(Math.random()*g)-Math.floor(g/2),r=!1,h=t(this.snake);!(a=h()).done;){var c=a.value;if(c.x===n&&c.y===s){r=!0;break}}r||(this.food={x:n,y:s},e=!0)}e||this.gameOver()},a.onKeyDown=function(e){if(!this.isGameOver)switch(e.keyCode){case p.ARROW_UP:case p.KEY_W:this.direction!==E.DOWN&&(this.nextDirection=E.UP);break;case p.ARROW_DOWN:case p.KEY_S:this.direction!==E.UP&&(this.nextDirection=E.DOWN);break;case p.ARROW_LEFT:case p.KEY_A:this.direction!==E.RIGHT&&(this.nextDirection=E.LEFT);break;case p.ARROW_RIGHT:case p.KEY_D:this.direction!==E.LEFT&&(this.nextDirection=E.RIGHT)}},a.update=function(e){this.isGameOver||(this.timer+=e,this.timer>=O&&(this.timer=0,this.moveSnake(),this.draw()))},a.moveSnake=function(){this.direction=this.nextDirection;var e=this.snake[0],i={x:e.x,y:e.y};switch(this.direction){case E.UP:i.y++;break;case E.DOWN:i.y--;break;case E.LEFT:i.x--;break;case E.RIGHT:i.x++}var o=Math.floor(y/2),a=Math.floor(g/2);i.x<-o?i.x=o-1:i.x>=o&&(i.x=-o),i.y<-a?i.y=a-1:i.y>=a&&(i.y=-a);for(var n,s=t(this.snake);!(n=s()).done;){var r=n.value;if(r.x===i.x&&r.y===i.y)return void this.gameOver()}this.snake.unshift(i),i.x===this.food.x&&i.y===this.food.y?(this.score+=10,this.updateScore(),this.spawnFood()):this.snake.pop()},a.gameOver=function(){this.isGameOver=!0,this.gameOverNode&&(this.gameOverNode.active=!0)},a.updateScore=function(){this.scoreLabel&&(this.scoreLabel.string="SCORE: "+this.score)},a.draw=function(){if(this.graphics){this.graphics.clear(),this.graphics.strokeColor=m.GRID_LINE,this.graphics.lineWidth=1;for(var e=y*C/2,i=g*C/2,t=0;t<=y;t++){var o=t*C-e;this.graphics.moveTo(o,-i),this.graphics.lineTo(o,i)}for(var a=0;a<=g;a++){var n=a*C-i;this.graphics.moveTo(-e,n),this.graphics.lineTo(e,n)}this.graphics.stroke(),this.graphics.fillColor=m.FOOD,this.drawTile(this.food.x,this.food.y,!0),this.graphics.fillColor=m.SNAKE_HEAD,this.drawTile(this.snake[0].x,this.snake[0].y,!1,4),this.graphics.fillColor=m.SNAKE_BODY;for(var s=1;s<this.snake.length;s++)this.drawTile(this.snake[s].x,this.snake[s].y,!1,2)}},a.drawTile=function(e,i,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=0),this.graphics){var a=e*C,n=i*C,s=C-4;t?this.graphics.circle(a+C/2,n+C/2,s/2):this.graphics.roundRect(a+2,n+2,s,s,o),this.graphics.fill()}},o}(u))||T);o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(e){var n,t,o,i,a,r,d,c,l,s,u,h;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.Node,a=e.Layers,r=e.Graphics,d=e.Label,c=e.director,l=e.Color,s=e.Button,u=e.Component},function(e){h=e.COLORS}],execute:function(){var C;t._RF.push({},"c4b682ZldBEgYKMkd5ONtXv","LoginManager",void 0);var g=o.ccclass;o.property,e("LoginManager",g("LoginManager")(C=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.start=function(){this.setupUI()},o.setupUI=function(){this.createBackground(),this.createTitle(),this.createMenu()},o.createBackground=function(){var e=this.node.getChildByName("Background");e||(e=new i("Background"),this.node.addChild(e),e.layer=a.Enum.UI_2D);var n=e.getComponent(r);n||(n=e.addComponent(r)),n.clear(),n.fillColor=h.BACKGROUND,n.rect(-2e3,-2e3,4e3,4e3),n.fill()},o.createTitle=function(){var e=this.node.getChildByName("Title");e||(e=new i("Title"),this.node.addChild(e),e.layer=a.Enum.UI_2D,e.setPosition(0,150,0));var n=e.getComponent(d);n||(n=e.addComponent(d)),n.string="GAME HUB",n.fontSize=60,n.lineHeight=70,n.color=h.TEXT_MAIN,n.isBold=!0},o.createMenu=function(){var e=this.node.getChildByName("Menu");e||(e=new i("Menu"),this.node.addChild(e),e.layer=a.Enum.UI_2D,e.setPosition(0,-50,0)),this.createButton(e,"Snake Game",0,0,(function(){c.loadScene("Game")}))},o.createButton=function(e,n,t,o,c){var u=new i("Button_"+n);e.addChild(u),u.layer=a.Enum.UI_2D,u.setPosition(t,o,0);var C=new i("Bg");u.addChild(C);var g=C.addComponent(r);if(g.fillColor=c?h.BUTTON_BG:new l(100,100,100),g.roundRect(-100,-30,200,60,10),g.fill(),c){var p=u.addComponent(s);p.transition=s.Transition.SCALE,p.zoomScale=.95,u.on(s.EventType.CLICK,c,this)}var f=new i("Label");u.addChild(f);var B=f.addComponent(d);B.string=n,B.fontSize=24,B.color=h.BUTTON_TEXT},t}(u))||C);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./GameManager.ts","./LoginManager.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});